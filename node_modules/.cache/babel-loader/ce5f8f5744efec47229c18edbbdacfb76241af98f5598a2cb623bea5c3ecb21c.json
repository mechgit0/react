{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n0 && (module.exports = {\n  default: null,\n  getConfiguredExperimentalFeatures: null,\n  normalizeConfig: null,\n  warnOptionHasBeenDeprecated: null,\n  warnOptionHasBeenMovedOutOfExperimental: null\n});\nfunction _export(target, all) {\n  for (var name in all) Object.defineProperty(target, name, {\n    enumerable: true,\n    get: all[name]\n  });\n}\n_export(exports, {\n  default: function () {\n    return loadConfig;\n  },\n  getConfiguredExperimentalFeatures: function () {\n    return getConfiguredExperimentalFeatures;\n  },\n  normalizeConfig: function () {\n    return _configshared.normalizeConfig;\n  },\n  warnOptionHasBeenDeprecated: function () {\n    return warnOptionHasBeenDeprecated;\n  },\n  warnOptionHasBeenMovedOutOfExperimental: function () {\n    return warnOptionHasBeenMovedOutOfExperimental;\n  }\n});\nconst _fs = require(\"fs\");\nconst _path = require(\"path\");\nconst _url = require(\"url\");\nconst _findup = /*#__PURE__*/_interop_require_default(require(\"next/dist/compiled/find-up\"));\nconst _log = /*#__PURE__*/_interop_require_wildcard(require(\"../build/output/log\"));\nconst _constants = require(\"../shared/lib/constants\");\nconst _configshared = require(\"./config-shared\");\nconst _configutils = require(\"./config-utils\");\nconst _imageconfig = require(\"../shared/lib/image-config\");\nconst _env = require(\"@next/env\");\nconst _flushandexit = require(\"../telemetry/flush-and-exit\");\nconst _findroot = require(\"../lib/find-root\");\nconst _setuphttpagentenv = require(\"./setup-http-agent-env\");\nconst _pathhasprefix = require(\"../shared/lib/router/utils/path-has-prefix\");\nconst _matchremotepattern = require(\"../shared/lib/match-remote-pattern\");\nconst _ciinfo = require(\"../server/ci-info\");\nconst _transpileconfig = require(\"../build/next-config-ts/transpile-config\");\nconst _dset = require(\"../shared/lib/dset\");\nconst _zod = require(\"../shared/lib/zod\");\nconst _isbot = require(\"../shared/lib/router/utils/is-bot\");\nconst _findpagesdir = require(\"../lib/find-pages-dir\");\nconst _canaryonly = require(\"../shared/lib/canary-only\");\nfunction _interop_require_default(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interop_require_wildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {\n    __proto__: null\n  };\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction normalizeNextConfigZodErrors(error) {\n  let shouldExit = false;\n  const issues = (0, _zod.normalizeZodErrors)(error);\n  return [issues.flatMap(_ref => {\n    let {\n      issue,\n      message\n    } = _ref;\n    if (issue.path[0] === 'images') {\n      // We exit the build when encountering an error in the images config\n      shouldExit = true;\n    }\n    return message;\n  }), shouldExit];\n}\nfunction warnOptionHasBeenDeprecated(config, nestedPropertyKey, reason, silent) {\n  let hasWarned = false;\n  if (!silent) {\n    let current = config;\n    let found = true;\n    const nestedPropertyKeys = nestedPropertyKey.split('.');\n    for (const key of nestedPropertyKeys) {\n      if (current[key] !== undefined) {\n        current = current[key];\n      } else {\n        found = false;\n        break;\n      }\n    }\n    if (found) {\n      _log.warnOnce(reason);\n      hasWarned = true;\n    }\n  }\n  return hasWarned;\n}\nfunction warnOptionHasBeenMovedOutOfExperimental(config, oldExperimentalKey, newKey, configFileName, silent) {\n  if (config.experimental && oldExperimentalKey in config.experimental) {\n    if (!silent) {\n      _log.warn(`\\`experimental.${oldExperimentalKey}\\` has been moved to \\`${newKey}\\`. ` + `Please update your ${configFileName} file accordingly.`);\n    }\n    let current = config;\n    const newKeys = newKey.split('.');\n    while (newKeys.length > 1) {\n      const key = newKeys.shift();\n      current[key] = current[key] || {};\n      current = current[key];\n    }\n    current[newKeys.shift()] = config.experimental[oldExperimentalKey];\n  }\n  return config;\n}\nfunction warnCustomizedOption(config, key, defaultValue, customMessage, configFileName, silent) {\n  const segs = key.split('.');\n  let current = config;\n  while (segs.length >= 1) {\n    const seg = segs.shift();\n    if (!(seg in current)) {\n      return;\n    }\n    current = current[seg];\n  }\n  if (!silent && current !== defaultValue) {\n    _log.warn(`The \"${key}\" option has been modified. ${customMessage ? customMessage + '. ' : ''}It should be removed from your ${configFileName}.`);\n  }\n}\nfunction assignDefaults(dir, userConfig, silent) {\n  var _defaultConfig_experimental, _result_experimental, _result_devIndicators, _result_experimental_serverActions, _result_experimental1, _result_experimental_turbo, _result_experimental2, _result_experimental_turbo1, _result_experimental3, _result_experimental_turbo2, _result_experimental4, _result_devIndicators1, _result_experimental5, _result_experimental6;\n  const configFileName = userConfig.configFileName;\n  if (typeof userConfig.exportTrailingSlash !== 'undefined') {\n    if (!silent) {\n      _log.warn(`The \"exportTrailingSlash\" option has been renamed to \"trailingSlash\". Please update your ${configFileName}.`);\n    }\n    if (typeof userConfig.trailingSlash === 'undefined') {\n      userConfig.trailingSlash = userConfig.exportTrailingSlash;\n    }\n    delete userConfig.exportTrailingSlash;\n  }\n  const config = Object.keys(userConfig).reduce((currentConfig, key) => {\n    const value = userConfig[key];\n    if (value === undefined || value === null) {\n      return currentConfig;\n    }\n    if (key === 'distDir') {\n      if (typeof value !== 'string') {\n        throw Object.defineProperty(new Error(`Specified distDir is not a string, found type \"${typeof value}\"`), \"__NEXT_ERROR_CODE\", {\n          value: \"E206\",\n          enumerable: false,\n          configurable: true\n        });\n      }\n      const userDistDir = value.trim();\n      // don't allow public as the distDir as this is a reserved folder for\n      // public files\n      if (userDistDir === 'public') {\n        throw Object.defineProperty(new Error(`The 'public' directory is reserved in Next.js and can not be set as the 'distDir'. https://nextjs.org/docs/messages/can-not-output-to-public`), \"__NEXT_ERROR_CODE\", {\n          value: \"E221\",\n          enumerable: false,\n          configurable: true\n        });\n      }\n      // make sure distDir isn't an empty string as it can result in the provided\n      // directory being deleted in development mode\n      if (userDistDir.length === 0) {\n        throw Object.defineProperty(new Error(`Invalid distDir provided, distDir can not be an empty string. Please remove this config or set it to undefined`), \"__NEXT_ERROR_CODE\", {\n          value: \"E391\",\n          enumerable: false,\n          configurable: true\n        });\n      }\n    }\n    if (key === 'pageExtensions') {\n      if (!Array.isArray(value)) {\n        throw Object.defineProperty(new Error(`Specified pageExtensions is not an array of strings, found \"${value}\". Please update this config or remove it.`), \"__NEXT_ERROR_CODE\", {\n          value: \"E140\",\n          enumerable: false,\n          configurable: true\n        });\n      }\n      if (!value.length) {\n        throw Object.defineProperty(new Error(`Specified pageExtensions is an empty array. Please update it with the relevant extensions or remove it.`), \"__NEXT_ERROR_CODE\", {\n          value: \"E43\",\n          enumerable: false,\n          configurable: true\n        });\n      }\n      value.forEach(ext => {\n        if (typeof ext !== 'string') {\n          throw Object.defineProperty(new Error(`Specified pageExtensions is not an array of strings, found \"${ext}\" of type \"${typeof ext}\". Please update this config or remove it.`), \"__NEXT_ERROR_CODE\", {\n            value: \"E108\",\n            enumerable: false,\n            configurable: true\n          });\n        }\n      });\n    }\n    if (!!value && value.constructor === Object) {\n      currentConfig[key] = {\n        ..._configshared.defaultConfig[key],\n        ...Object.keys(value).reduce((c, k) => {\n          const v = value[k];\n          if (v !== undefined && v !== null) {\n            c[k] = v;\n          }\n          return c;\n        }, {})\n      };\n    } else {\n      currentConfig[key] = value;\n    }\n    return currentConfig;\n  }, {});\n  // TODO: remove these once we've made PPR default\n  // If this was defaulted to true, it implies that the configuration was\n  // overridden for testing to be defaulted on.\n  if ((_defaultConfig_experimental = _configshared.defaultConfig.experimental) == null ? void 0 : _defaultConfig_experimental.ppr) {\n    _log.warn(`\\`experimental.ppr\\` has been defaulted to \\`true\\` because \\`__NEXT_EXPERIMENTAL_PPR\\` was set to \\`true\\` during testing.`);\n  }\n  const result = {\n    ..._configshared.defaultConfig,\n    ...config\n  };\n  if (((_result_experimental = result.experimental) == null ? void 0 : _result_experimental.allowDevelopmentBuild) && process.env.NODE_ENV !== 'development') {\n    throw Object.defineProperty(new Error(`The experimental.allowDevelopmentBuild option requires NODE_ENV to be explicitly set to 'development'.`), \"__NEXT_ERROR_CODE\", {\n      value: \"E195\",\n      enumerable: false,\n      configurable: true\n    });\n  }\n  if ((0, _canaryonly.isStableBuild)()) {\n    var _result_experimental7, _result_experimental8, _result_experimental_turbo3, _result_experimental9, _result_experimental10;\n    // Prevents usage of certain experimental features outside of canary\n    if ((_result_experimental7 = result.experimental) == null ? void 0 : _result_experimental7.ppr) {\n      throw Object.defineProperty(new _canaryonly.CanaryOnlyError({\n        feature: 'experimental.ppr'\n      }), \"__NEXT_ERROR_CODE\", {\n        value: \"E394\",\n        enumerable: false,\n        configurable: true\n      });\n    } else if ((_result_experimental8 = result.experimental) == null ? void 0 : _result_experimental8.dynamicIO) {\n      throw Object.defineProperty(new _canaryonly.CanaryOnlyError({\n        feature: 'experimental.dynamicIO'\n      }), \"__NEXT_ERROR_CODE\", {\n        value: \"E394\",\n        enumerable: false,\n        configurable: true\n      });\n    } else if ((_result_experimental9 = result.experimental) == null ? void 0 : (_result_experimental_turbo3 = _result_experimental9.turbo) == null ? void 0 : _result_experimental_turbo3.unstablePersistentCaching) {\n      throw Object.defineProperty(new _canaryonly.CanaryOnlyError({\n        feature: 'experimental.turbo.unstablePersistentCaching'\n      }), \"__NEXT_ERROR_CODE\", {\n        value: \"E394\",\n        enumerable: false,\n        configurable: true\n      });\n    } else if ((_result_experimental10 = result.experimental) == null ? void 0 : _result_experimental10.nodeMiddleware) {\n      throw Object.defineProperty(new _canaryonly.CanaryOnlyError({\n        feature: 'experimental.nodeMiddleware'\n      }), \"__NEXT_ERROR_CODE\", {\n        value: \"E394\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n  }\n  if (result.output === 'export') {\n    if (result.i18n) {\n      throw Object.defineProperty(new Error('Specified \"i18n\" cannot be used with \"output: export\". See more info here: https://nextjs.org/docs/messages/export-no-i18n'), \"__NEXT_ERROR_CODE\", {\n        value: \"E493\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n    if (!_ciinfo.hasNextSupport) {\n      if (result.rewrites) {\n        _log.warn('Specified \"rewrites\" will not automatically work with \"output: export\". See more info here: https://nextjs.org/docs/messages/export-no-custom-routes');\n      }\n      if (result.redirects) {\n        _log.warn('Specified \"redirects\" will not automatically work with \"output: export\". See more info here: https://nextjs.org/docs/messages/export-no-custom-routes');\n      }\n      if (result.headers) {\n        _log.warn('Specified \"headers\" will not automatically work with \"output: export\". See more info here: https://nextjs.org/docs/messages/export-no-custom-routes');\n      }\n    }\n  }\n  if (typeof result.assetPrefix !== 'string') {\n    throw Object.defineProperty(new Error(`Specified assetPrefix is not a string, found type \"${typeof result.assetPrefix}\" https://nextjs.org/docs/messages/invalid-assetprefix`), \"__NEXT_ERROR_CODE\", {\n      value: \"E68\",\n      enumerable: false,\n      configurable: true\n    });\n  }\n  if (typeof result.basePath !== 'string') {\n    throw Object.defineProperty(new Error(`Specified basePath is not a string, found type \"${typeof result.basePath}\"`), \"__NEXT_ERROR_CODE\", {\n      value: \"E326\",\n      enumerable: false,\n      configurable: true\n    });\n  }\n  if (result.basePath !== '') {\n    if (result.basePath === '/') {\n      throw Object.defineProperty(new Error(`Specified basePath /. basePath has to be either an empty string or a path prefix\"`), \"__NEXT_ERROR_CODE\", {\n        value: \"E95\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n    if (!result.basePath.startsWith('/')) {\n      throw Object.defineProperty(new Error(`Specified basePath has to start with a /, found \"${result.basePath}\"`), \"__NEXT_ERROR_CODE\", {\n        value: \"E105\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n    if (result.basePath !== '/') {\n      var _result_amp;\n      if (result.basePath.endsWith('/')) {\n        throw Object.defineProperty(new Error(`Specified basePath should not end with /, found \"${result.basePath}\"`), \"__NEXT_ERROR_CODE\", {\n          value: \"E39\",\n          enumerable: false,\n          configurable: true\n        });\n      }\n      if (result.assetPrefix === '') {\n        result.assetPrefix = result.basePath;\n      }\n      if (((_result_amp = result.amp) == null ? void 0 : _result_amp.canonicalBase) === '') {\n        result.amp.canonicalBase = result.basePath;\n      }\n    }\n  }\n  if (result == null ? void 0 : result.images) {\n    const images = result.images;\n    if (typeof images !== 'object') {\n      throw Object.defineProperty(new Error(`Specified images should be an object received ${typeof images}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-images-config`), \"__NEXT_ERROR_CODE\", {\n        value: \"E171\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n    if (images.localPatterns) {\n      if (!Array.isArray(images.localPatterns)) {\n        throw Object.defineProperty(new Error(`Specified images.localPatterns should be an Array received ${typeof images.localPatterns}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-images-config`), \"__NEXT_ERROR_CODE\", {\n          value: \"E118\",\n          enumerable: false,\n          configurable: true\n        });\n      }\n      // avoid double-pushing the same pattern if it already exists\n      const hasMatch = images.localPatterns.some(pattern => pattern.pathname === '/_next/static/media/**' && pattern.search === '');\n      if (!hasMatch) {\n        // static import images are automatically allowed\n        images.localPatterns.push({\n          pathname: '/_next/static/media/**',\n          search: ''\n        });\n      }\n    }\n    if (images.remotePatterns) {\n      var _config_assetPrefix;\n      if (!Array.isArray(images.remotePatterns)) {\n        throw Object.defineProperty(new Error(`Specified images.remotePatterns should be an Array received ${typeof images.remotePatterns}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-images-config`), \"__NEXT_ERROR_CODE\", {\n          value: \"E27\",\n          enumerable: false,\n          configurable: true\n        });\n      }\n      // static images are automatically prefixed with assetPrefix\n      // so we need to ensure _next/image allows downloading from\n      // this resource\n      if ((_config_assetPrefix = config.assetPrefix) == null ? void 0 : _config_assetPrefix.startsWith('http')) {\n        try {\n          const url = new URL(config.assetPrefix);\n          const hasMatchForAssetPrefix = images.remotePatterns.some(pattern => (0, _matchremotepattern.matchRemotePattern)(pattern, url));\n          // avoid double-pushing the same pattern if it already can be matched\n          if (!hasMatchForAssetPrefix) {\n            images.remotePatterns.push({\n              hostname: url.hostname,\n              protocol: url.protocol.replace(/:$/, ''),\n              port: url.port\n            });\n          }\n        } catch (error) {\n          throw Object.defineProperty(new Error(`Invalid assetPrefix provided. Original error: ${error}`), \"__NEXT_ERROR_CODE\", {\n            value: \"E343\",\n            enumerable: false,\n            configurable: true\n          });\n        }\n      }\n    }\n    if (images.domains) {\n      if (!Array.isArray(images.domains)) {\n        throw Object.defineProperty(new Error(`Specified images.domains should be an Array received ${typeof images.domains}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-images-config`), \"__NEXT_ERROR_CODE\", {\n          value: \"E402\",\n          enumerable: false,\n          configurable: true\n        });\n      }\n    }\n    if (!images.loader) {\n      images.loader = 'default';\n    }\n    if (images.loader !== 'default' && images.loader !== 'custom' && images.path === _imageconfig.imageConfigDefault.path) {\n      throw Object.defineProperty(new Error(`Specified images.loader property (${images.loader}) also requires images.path property to be assigned to a URL prefix.\\nSee more info here: https://nextjs.org/docs/api-reference/next/legacy/image#loader-configuration`), \"__NEXT_ERROR_CODE\", {\n        value: \"E228\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n    if (images.path === _imageconfig.imageConfigDefault.path && result.basePath && !(0, _pathhasprefix.pathHasPrefix)(images.path, result.basePath)) {\n      images.path = `${result.basePath}${images.path}`;\n    }\n    // Append trailing slash for non-default loaders and when trailingSlash is set\n    if (images.path && !images.path.endsWith('/') && (images.loader !== 'default' || result.trailingSlash)) {\n      images.path += '/';\n    }\n    if (images.loaderFile) {\n      if (images.loader !== 'default' && images.loader !== 'custom') {\n        throw Object.defineProperty(new Error(`Specified images.loader property (${images.loader}) cannot be used with images.loaderFile property. Please set images.loader to \"custom\".`), \"__NEXT_ERROR_CODE\", {\n          value: \"E449\",\n          enumerable: false,\n          configurable: true\n        });\n      }\n      const absolutePath = (0, _path.join)(dir, images.loaderFile);\n      if (!(0, _fs.existsSync)(absolutePath)) {\n        throw Object.defineProperty(new Error(`Specified images.loaderFile does not exist at \"${absolutePath}\".`), \"__NEXT_ERROR_CODE\", {\n          value: \"E461\",\n          enumerable: false,\n          configurable: true\n        });\n      }\n      images.loaderFile = absolutePath;\n    }\n  }\n  warnCustomizedOption(result, 'experimental.esmExternals', true, 'experimental.esmExternals is not recommended to be modified as it may disrupt module resolution', configFileName, silent);\n  warnOptionHasBeenDeprecated(result, 'experimental.instrumentationHook', `\\`experimental.instrumentationHook\\` is no longer needed, because \\`instrumentation.js\\` is available by default. You can remove it from ${configFileName}.`, silent);\n  warnOptionHasBeenDeprecated(result, 'experimental.after', `\\`experimental.after\\` is no longer needed, because \\`after\\` is available by default. You can remove it from ${configFileName}.`, silent);\n  warnOptionHasBeenDeprecated(result, 'devIndicators.appIsrStatus', `\\`devIndicators.appIsrStatus\\` is deprecated and no longer configurable. Please remove it from ${configFileName}.`, silent);\n  warnOptionHasBeenDeprecated(result, 'devIndicators.buildActivity', `\\`devIndicators.buildActivity\\` is deprecated and no longer configurable. Please remove it from ${configFileName}.`, silent);\n  const hasWarnedBuildActivityPosition = warnOptionHasBeenDeprecated(result, 'devIndicators.buildActivityPosition', `\\`devIndicators.buildActivityPosition\\` has been renamed to \\`devIndicators.position\\`. Please update your ${configFileName} file accordingly.`, silent);\n  if (hasWarnedBuildActivityPosition && result.devIndicators !== false && ((_result_devIndicators = result.devIndicators) == null ? void 0 : _result_devIndicators.buildActivityPosition) && result.devIndicators.buildActivityPosition !== result.devIndicators.position) {\n    _log.warnOnce(`The \\`devIndicators\\` option \\`buildActivityPosition\\` (\"${result.devIndicators.buildActivityPosition}\") conflicts with \\`position\\` (\"${result.devIndicators.position}\"). Using \\`buildActivityPosition\\` (\"${result.devIndicators.buildActivityPosition}\") for backward compatibility.`);\n    result.devIndicators.position = result.devIndicators.buildActivityPosition;\n  }\n  warnOptionHasBeenMovedOutOfExperimental(result, 'bundlePagesExternals', 'bundlePagesRouterDependencies', configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, 'serverComponentsExternalPackages', 'serverExternalPackages', configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, 'relay', 'compiler.relay', configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, 'styledComponents', 'compiler.styledComponents', configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, 'emotion', 'compiler.emotion', configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, 'reactRemoveProperties', 'compiler.reactRemoveProperties', configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, 'removeConsole', 'compiler.removeConsole', configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, 'swrDelta', 'expireTime', configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, 'outputFileTracingRoot', 'outputFileTracingRoot', configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, 'outputFileTracingIncludes', 'outputFileTracingIncludes', configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, 'outputFileTracingExcludes', 'outputFileTracingExcludes', configFileName, silent);\n  if (result.experimental.outputStandalone) {\n    if (!silent) {\n      _log.warn(`experimental.outputStandalone has been renamed to \"output: 'standalone'\", please move the config.`);\n    }\n    result.output = 'standalone';\n  }\n  if (typeof ((_result_experimental1 = result.experimental) == null ? void 0 : (_result_experimental_serverActions = _result_experimental1.serverActions) == null ? void 0 : _result_experimental_serverActions.bodySizeLimit) !== 'undefined') {\n    var _result_experimental_serverActions1;\n    const value = parseInt((_result_experimental_serverActions1 = result.experimental.serverActions) == null ? void 0 : _result_experimental_serverActions1.bodySizeLimit.toString());\n    if (isNaN(value) || value < 1) {\n      throw Object.defineProperty(new Error('Server Actions Size Limit must be a valid number or filesize format larger than 1MB: https://nextjs.org/docs/app/api-reference/next-config-js/serverActions#bodysizelimit'), \"__NEXT_ERROR_CODE\", {\n        value: \"E100\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n  }\n  warnOptionHasBeenMovedOutOfExperimental(result, 'transpilePackages', 'transpilePackages', configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, 'skipMiddlewareUrlNormalize', 'skipMiddlewareUrlNormalize', configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, 'skipTrailingSlashRedirect', 'skipTrailingSlashRedirect', configFileName, silent);\n  if ((result == null ? void 0 : result.outputFileTracingRoot) && !(0, _path.isAbsolute)(result.outputFileTracingRoot)) {\n    result.outputFileTracingRoot = (0, _path.resolve)(result.outputFileTracingRoot);\n    if (!silent) {\n      _log.warn(`outputFileTracingRoot should be absolute, using: ${result.outputFileTracingRoot}`);\n    }\n  }\n  if ((result == null ? void 0 : (_result_experimental2 = result.experimental) == null ? void 0 : (_result_experimental_turbo = _result_experimental2.turbo) == null ? void 0 : _result_experimental_turbo.root) && !(0, _path.isAbsolute)(result.experimental.turbo.root)) {\n    result.experimental.turbo.root = (0, _path.resolve)(result.experimental.turbo.root);\n    if (!silent) {\n      _log.warn(`experimental.turbo.root should be absolute, using: ${result.experimental.turbo.root}`);\n    }\n  }\n  // only leverage deploymentId\n  if (process.env.NEXT_DEPLOYMENT_ID) {\n    result.deploymentId = process.env.NEXT_DEPLOYMENT_ID;\n  }\n  if ((result == null ? void 0 : result.outputFileTracingRoot) && !(result == null ? void 0 : (_result_experimental3 = result.experimental) == null ? void 0 : (_result_experimental_turbo1 = _result_experimental3.turbo) == null ? void 0 : _result_experimental_turbo1.root)) {\n    (0, _dset.dset)(result, ['experimental', 'turbo', 'root'], result.outputFileTracingRoot);\n  }\n  // use the closest lockfile as tracing root\n  if (!(result == null ? void 0 : result.outputFileTracingRoot) || !(result == null ? void 0 : (_result_experimental4 = result.experimental) == null ? void 0 : (_result_experimental_turbo2 = _result_experimental4.turbo) == null ? void 0 : _result_experimental_turbo2.root)) {\n    let rootDir = (0, _findroot.findRootDir)(dir);\n    if (rootDir) {\n      var _result_experimental_turbo4, _result_experimental11;\n      if (!(result == null ? void 0 : result.outputFileTracingRoot)) {\n        result.outputFileTracingRoot = rootDir;\n        _configshared.defaultConfig.outputFileTracingRoot = result.outputFileTracingRoot;\n      }\n      if (!(result == null ? void 0 : (_result_experimental11 = result.experimental) == null ? void 0 : (_result_experimental_turbo4 = _result_experimental11.turbo) == null ? void 0 : _result_experimental_turbo4.root)) {\n        (0, _dset.dset)(result, ['experimental', 'turbo', 'root'], rootDir);\n        (0, _dset.dset)(_configshared.defaultConfig, ['experimental', 'turbo', 'root'], rootDir);\n      }\n    }\n  }\n  (0, _setuphttpagentenv.setHttpClientAndAgentOptions)(result || _configshared.defaultConfig);\n  if (result.i18n) {\n    const hasAppDir = Boolean((0, _findpagesdir.findDir)(dir, 'app'));\n    if (hasAppDir) {\n      warnOptionHasBeenDeprecated(result, 'i18n', `i18n configuration in ${configFileName} is unsupported in App Router.\\nLearn more about internationalization in App Router: https://nextjs.org/docs/app/building-your-application/routing/internationalization`, silent);\n    }\n    const {\n      i18n\n    } = result;\n    const i18nType = typeof i18n;\n    if (i18nType !== 'object') {\n      throw Object.defineProperty(new Error(`Specified i18n should be an object received ${i18nType}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`), \"__NEXT_ERROR_CODE\", {\n        value: \"E148\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n    if (!Array.isArray(i18n.locales)) {\n      throw Object.defineProperty(new Error(`Specified i18n.locales should be an Array received ${typeof i18n.locales}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`), \"__NEXT_ERROR_CODE\", {\n        value: \"E227\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n    if (i18n.locales.length > 100 && !silent) {\n      _log.warn(`Received ${i18n.locales.length} i18n.locales items which exceeds the recommended max of 100.\\nSee more info here: https://nextjs.org/docs/advanced-features/i18n-routing#how-does-this-work-with-static-generation`);\n    }\n    const defaultLocaleType = typeof i18n.defaultLocale;\n    if (!i18n.defaultLocale || defaultLocaleType !== 'string') {\n      throw Object.defineProperty(new Error(`Specified i18n.defaultLocale should be a string.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`), \"__NEXT_ERROR_CODE\", {\n        value: \"E441\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n    if (typeof i18n.domains !== 'undefined' && !Array.isArray(i18n.domains)) {\n      throw Object.defineProperty(new Error(`Specified i18n.domains must be an array of domain objects e.g. [ { domain: 'example.fr', defaultLocale: 'fr', locales: ['fr'] } ] received ${typeof i18n.domains}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`), \"__NEXT_ERROR_CODE\", {\n        value: \"E456\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n    if (i18n.domains) {\n      const invalidDomainItems = i18n.domains.filter(item => {\n        var _i18n_domains;\n        if (!item || typeof item !== 'object') return true;\n        if (!item.defaultLocale) return true;\n        if (!item.domain || typeof item.domain !== 'string') return true;\n        if (item.domain.includes(':')) {\n          console.warn(`i18n domain: \"${item.domain}\" is invalid it should be a valid domain without protocol (https://) or port (:3000) e.g. example.vercel.sh`);\n          return true;\n        }\n        const defaultLocaleDuplicate = (_i18n_domains = i18n.domains) == null ? void 0 : _i18n_domains.find(altItem => altItem.defaultLocale === item.defaultLocale && altItem.domain !== item.domain);\n        if (!silent && defaultLocaleDuplicate) {\n          console.warn(`Both ${item.domain} and ${defaultLocaleDuplicate.domain} configured the defaultLocale ${item.defaultLocale} but only one can. Change one item's default locale to continue`);\n          return true;\n        }\n        let hasInvalidLocale = false;\n        if (Array.isArray(item.locales)) {\n          for (const locale of item.locales) {\n            if (typeof locale !== 'string') hasInvalidLocale = true;\n            for (const domainItem of i18n.domains || []) {\n              if (domainItem === item) continue;\n              if (domainItem.locales && domainItem.locales.includes(locale)) {\n                console.warn(`Both ${item.domain} and ${domainItem.domain} configured the locale (${locale}) but only one can. Remove it from one i18n.domains config to continue`);\n                hasInvalidLocale = true;\n                break;\n              }\n            }\n          }\n        }\n        return hasInvalidLocale;\n      });\n      if (invalidDomainItems.length > 0) {\n        throw Object.defineProperty(new Error(`Invalid i18n.domains values:\\n${invalidDomainItems.map(item => JSON.stringify(item)).join('\\n')}\\n\\ndomains value must follow format { domain: 'example.fr', defaultLocale: 'fr', locales: ['fr'] }.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`), \"__NEXT_ERROR_CODE\", {\n          value: \"E413\",\n          enumerable: false,\n          configurable: true\n        });\n      }\n    }\n    if (!Array.isArray(i18n.locales)) {\n      throw Object.defineProperty(new Error(`Specified i18n.locales must be an array of locale strings e.g. [\"en-US\", \"nl-NL\"] received ${typeof i18n.locales}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`), \"__NEXT_ERROR_CODE\", {\n        value: \"E432\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n    const invalidLocales = i18n.locales.filter(locale => typeof locale !== 'string');\n    if (invalidLocales.length > 0) {\n      throw Object.defineProperty(new Error(`Specified i18n.locales contains invalid values (${invalidLocales.map(String).join(', ')}), locales must be valid locale tags provided as strings e.g. \"en-US\".\\n` + `See here for list of valid language sub-tags: http://www.iana.org/assignments/language-subtag-registry/language-subtag-registry`), \"__NEXT_ERROR_CODE\", {\n        value: \"E71\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n    if (!i18n.locales.includes(i18n.defaultLocale)) {\n      throw Object.defineProperty(new Error(`Specified i18n.defaultLocale should be included in i18n.locales.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`), \"__NEXT_ERROR_CODE\", {\n        value: \"E515\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n    const normalizedLocales = new Set();\n    const duplicateLocales = new Set();\n    i18n.locales.forEach(locale => {\n      const localeLower = locale.toLowerCase();\n      if (normalizedLocales.has(localeLower)) {\n        duplicateLocales.add(locale);\n      }\n      normalizedLocales.add(localeLower);\n    });\n    if (duplicateLocales.size > 0) {\n      throw Object.defineProperty(new Error(`Specified i18n.locales contains the following duplicate locales:\\n` + `${[...duplicateLocales].join(', ')}\\n` + `Each locale should be listed only once.\\n` + `See more info here: https://nextjs.org/docs/messages/invalid-i18n-config`), \"__NEXT_ERROR_CODE\", {\n        value: \"E471\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n    // make sure default Locale is at the front\n    i18n.locales = [i18n.defaultLocale, ...i18n.locales.filter(locale => locale !== i18n.defaultLocale)];\n    const localeDetectionType = typeof i18n.localeDetection;\n    if (localeDetectionType !== 'boolean' && localeDetectionType !== 'undefined') {\n      throw Object.defineProperty(new Error(`Specified i18n.localeDetection should be undefined or a boolean received ${localeDetectionType}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`), \"__NEXT_ERROR_CODE\", {\n        value: \"E439\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n  }\n  if (result.devIndicators !== false && ((_result_devIndicators1 = result.devIndicators) == null ? void 0 : _result_devIndicators1.position)) {\n    const {\n      position\n    } = result.devIndicators;\n    const allowedValues = ['top-left', 'top-right', 'bottom-left', 'bottom-right'];\n    if (!allowedValues.includes(position)) {\n      throw Object.defineProperty(new Error(`Invalid \"devIndicator.position\" provided, expected one of ${allowedValues.join(', ')}, received ${position}`), \"__NEXT_ERROR_CODE\", {\n        value: \"E643\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n  }\n  if (result.experimental) {\n    var _defaultConfig_experimental1, _defaultConfig_experimental_cacheLife, _defaultConfig_experimental2, _defaultConfig_experimental_staleTimes, _defaultConfig_experimental3;\n    result.experimental.cacheLife = {\n      ...((_defaultConfig_experimental1 = _configshared.defaultConfig.experimental) == null ? void 0 : _defaultConfig_experimental1.cacheLife),\n      ...result.experimental.cacheLife\n    };\n    const defaultDefault = (_defaultConfig_experimental2 = _configshared.defaultConfig.experimental) == null ? void 0 : (_defaultConfig_experimental_cacheLife = _defaultConfig_experimental2.cacheLife) == null ? void 0 : _defaultConfig_experimental_cacheLife['default'];\n    if (!defaultDefault || defaultDefault.revalidate === undefined || defaultDefault.expire === undefined || !((_defaultConfig_experimental3 = _configshared.defaultConfig.experimental) == null ? void 0 : (_defaultConfig_experimental_staleTimes = _defaultConfig_experimental3.staleTimes) == null ? void 0 : _defaultConfig_experimental_staleTimes.static)) {\n      throw Object.defineProperty(new Error('No default cacheLife profile.'), \"__NEXT_ERROR_CODE\", {\n        value: \"E350\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n    const defaultCacheLifeProfile = result.experimental.cacheLife['default'];\n    if (!defaultCacheLifeProfile) {\n      result.experimental.cacheLife['default'] = defaultDefault;\n    } else {\n      if (defaultCacheLifeProfile.stale === undefined) {\n        var _result_experimental_staleTimes, _defaultConfig_experimental_staleTimes1, _defaultConfig_experimental4;\n        const staticStaleTime = (_result_experimental_staleTimes = result.experimental.staleTimes) == null ? void 0 : _result_experimental_staleTimes.static;\n        defaultCacheLifeProfile.stale = staticStaleTime ?? ((_defaultConfig_experimental4 = _configshared.defaultConfig.experimental) == null ? void 0 : (_defaultConfig_experimental_staleTimes1 = _defaultConfig_experimental4.staleTimes) == null ? void 0 : _defaultConfig_experimental_staleTimes1.static);\n      }\n      if (defaultCacheLifeProfile.revalidate === undefined) {\n        defaultCacheLifeProfile.revalidate = defaultDefault.revalidate;\n      }\n      if (defaultCacheLifeProfile.expire === undefined) {\n        defaultCacheLifeProfile.expire = result.expireTime ?? defaultDefault.expire;\n      }\n    }\n    // This is the most dynamic cache life profile.\n    const secondsCacheLifeProfile = result.experimental.cacheLife['seconds'];\n    if (secondsCacheLifeProfile && secondsCacheLifeProfile.stale === undefined) {\n      var _result_experimental_staleTimes1, _defaultConfig_experimental_staleTimes2, _defaultConfig_experimental5;\n      // We default this to whatever stale time you had configured for dynamic content.\n      // Since this is basically a dynamic cache life profile.\n      const dynamicStaleTime = (_result_experimental_staleTimes1 = result.experimental.staleTimes) == null ? void 0 : _result_experimental_staleTimes1.dynamic;\n      secondsCacheLifeProfile.stale = dynamicStaleTime ?? ((_defaultConfig_experimental5 = _configshared.defaultConfig.experimental) == null ? void 0 : (_defaultConfig_experimental_staleTimes2 = _defaultConfig_experimental5.staleTimes) == null ? void 0 : _defaultConfig_experimental_staleTimes2.dynamic);\n    }\n  }\n  if ((_result_experimental5 = result.experimental) == null ? void 0 : _result_experimental5.cacheHandlers) {\n    const allowedHandlerNameRegex = /[a-z-]/;\n    if (typeof result.experimental.cacheHandlers !== 'object') {\n      throw Object.defineProperty(new Error(`Invalid \"experimental.cacheHandlers\" provided, expected an object e.g. { default: '/my-handler.js' }, received ${JSON.stringify(result.experimental.cacheHandlers)}`), \"__NEXT_ERROR_CODE\", {\n        value: \"E197\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n    const handlerKeys = Object.keys(result.experimental.cacheHandlers);\n    const invalidHandlerItems = [];\n    for (const key of handlerKeys) {\n      if (!allowedHandlerNameRegex.test(key)) {\n        invalidHandlerItems.push({\n          key,\n          reason: 'key must only use characters a-z and -'\n        });\n      } else {\n        const handlerPath = result.experimental.cacheHandlers[key];\n        if (handlerPath && !(0, _fs.existsSync)(handlerPath)) {\n          invalidHandlerItems.push({\n            key,\n            reason: `cache handler path provided does not exist, received ${handlerPath}`\n          });\n        }\n      }\n      if (invalidHandlerItems.length) {\n        throw Object.defineProperty(new Error(`Invalid handler fields configured for \"experimental.cacheHandler\":\\n${invalidHandlerItems.map(item => `${key}: ${item.reason}`).join('\\n')}`), \"__NEXT_ERROR_CODE\", {\n          value: \"E217\",\n          enumerable: false,\n          configurable: true\n        });\n      }\n    }\n  }\n  const userProvidedModularizeImports = result.modularizeImports;\n  // Unfortunately these packages end up re-exporting 10600 modules, for example: https://unpkg.com/browse/@mui/icons-material@5.11.16/esm/index.js.\n  // Leveraging modularizeImports tremendously reduces compile times for these.\n  result.modularizeImports = {\n    ...(userProvidedModularizeImports || {}),\n    // This is intentionally added after the user-provided modularizeImports config.\n    '@mui/icons-material': {\n      transform: '@mui/icons-material/{{member}}'\n    },\n    lodash: {\n      transform: 'lodash/{{member}}'\n    }\n  };\n  const userProvidedOptimizePackageImports = ((_result_experimental6 = result.experimental) == null ? void 0 : _result_experimental6.optimizePackageImports) || [];\n  if (!result.experimental) {\n    result.experimental = {};\n  }\n  result.experimental.optimizePackageImports = [...new Set([...userProvidedOptimizePackageImports, 'lucide-react', 'date-fns', 'lodash-es', 'ramda', 'antd', 'react-bootstrap', 'ahooks', '@ant-design/icons', '@headlessui/react', '@headlessui-float/react', '@heroicons/react/20/solid', '@heroicons/react/24/solid', '@heroicons/react/24/outline', '@visx/visx', '@tremor/react', 'rxjs', '@mui/material', '@mui/icons-material', 'recharts', 'react-use', 'effect', '@effect/schema', '@effect/platform', '@effect/platform-node', '@effect/platform-browser', '@effect/platform-bun', '@effect/sql', '@effect/sql-mssql', '@effect/sql-mysql2', '@effect/sql-pg', '@effect/sql-squlite-node', '@effect/sql-squlite-bun', '@effect/sql-squlite-wasm', '@effect/sql-squlite-react-native', '@effect/sql-squlite-wasm', '@effect/rpc', '@effect/rpc-http', '@effect/typeclass', '@effect/experimental', '@effect/opentelemetry', '@material-ui/core', '@material-ui/icons', '@tabler/icons-react', 'mui-core',\n  // We don't support wildcard imports for these configs, e.g. `react-icons/*`\n  // so we need to add them manually.\n  // In the future, we should consider automatically detecting packages that\n  // need to be optimized.\n  'react-icons/ai', 'react-icons/bi', 'react-icons/bs', 'react-icons/cg', 'react-icons/ci', 'react-icons/di', 'react-icons/fa', 'react-icons/fa6', 'react-icons/fc', 'react-icons/fi', 'react-icons/gi', 'react-icons/go', 'react-icons/gr', 'react-icons/hi', 'react-icons/hi2', 'react-icons/im', 'react-icons/io', 'react-icons/io5', 'react-icons/lia', 'react-icons/lib', 'react-icons/lu', 'react-icons/md', 'react-icons/pi', 'react-icons/ri', 'react-icons/rx', 'react-icons/si', 'react-icons/sl', 'react-icons/tb', 'react-icons/tfi', 'react-icons/ti', 'react-icons/vsc', 'react-icons/wi'])];\n  if (!result.htmlLimitedBots) {\n    // @ts-expect-error: override the htmlLimitedBots with default string, type covert: RegExp -> string\n    result.htmlLimitedBots = _isbot.HTML_LIMITED_BOT_UA_RE_STRING;\n  }\n  // \"use cache\" was originally implicitly enabled with the dynamicIO flag, so\n  // we transfer the value for dynamicIO to the explicit useCache flag to ensure\n  // backwards compatibility.\n  if (result.experimental.useCache === undefined) {\n    result.experimental.useCache = result.experimental.dynamicIO;\n  }\n  return result;\n}\nasync function loadConfig(phase, dir) {\n  let {\n    customConfig,\n    rawConfig,\n    silent = true,\n    onLoadUserConfig,\n    reactProductionProfiling\n  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  if (!process.env.__NEXT_PRIVATE_RENDER_WORKER) {\n    try {\n      (0, _configutils.loadWebpackHook)();\n    } catch (err) {\n      // this can fail in standalone mode as the files\n      // aren't traced/included\n      if (!process.env.__NEXT_PRIVATE_STANDALONE_CONFIG) {\n        throw err;\n      }\n    }\n  }\n  if (process.env.__NEXT_PRIVATE_STANDALONE_CONFIG) {\n    return JSON.parse(process.env.__NEXT_PRIVATE_STANDALONE_CONFIG);\n  }\n  const curLog = silent ? {\n    warn: () => {},\n    info: () => {},\n    error: () => {}\n  } : _log;\n  (0, _env.loadEnvConfig)(dir, phase === _constants.PHASE_DEVELOPMENT_SERVER, curLog);\n  let configFileName = 'next.config.js';\n  if (customConfig) {\n    return assignDefaults(dir, {\n      configOrigin: 'server',\n      configFileName,\n      ...customConfig\n    }, silent);\n  }\n  const path = await (0, _findup.default)(_constants.CONFIG_FILES, {\n    cwd: dir\n  });\n  if (process.env.__NEXT_TEST_MODE) {\n    if (path) {\n      _log.info(`Loading config from ${path}`);\n    } else {\n      _log.info('No config file found');\n    }\n  }\n  // If config file was found\n  if (path == null ? void 0 : path.length) {\n    var _userConfig_amp, _userConfig_experimental_turbo, _userConfig_experimental, _userConfig_experimental_turbo1, _userConfig_experimental1, _userConfig_experimental2;\n    configFileName = (0, _path.basename)(path);\n    let userConfigModule;\n    try {\n      const envBefore = Object.assign({}, process.env);\n      // `import()` expects url-encoded strings, so the path must be properly\n      // escaped and (especially on Windows) absolute paths must pe prefixed\n      // with the `file://` protocol\n      if (process.env.__NEXT_TEST_MODE === 'jest') {\n        // dynamic import does not currently work inside of vm which\n        // jest relies on so we fall back to require for this case\n        // https://github.com/nodejs/node/issues/35889\n        userConfigModule = require(path);\n      } else if (configFileName === 'next.config.ts') {\n        userConfigModule = await (0, _transpileconfig.transpileConfig)({\n          nextConfigPath: path,\n          cwd: dir\n        });\n      } else {\n        userConfigModule = await import((0, _url.pathToFileURL)(path).href);\n      }\n      const newEnv = {};\n      for (const key of Object.keys(process.env)) {\n        if (envBefore[key] !== process.env[key]) {\n          newEnv[key] = process.env[key];\n        }\n      }\n      (0, _env.updateInitialEnv)(newEnv);\n      if (rawConfig) {\n        return userConfigModule;\n      }\n    } catch (err) {\n      // TODO: Modify docs to add cases of failing next.config.ts transformation\n      curLog.error(`Failed to load ${configFileName}, see more info here https://nextjs.org/docs/messages/next-config-error`);\n      throw err;\n    }\n    const userConfig = await (0, _configshared.normalizeConfig)(phase, userConfigModule.default || userConfigModule);\n    if (!process.env.NEXT_MINIMAL) {\n      // We only validate the config against schema in non minimal mode\n      const {\n        configSchema\n      } = require('./config-schema');\n      const state = configSchema.safeParse(userConfig);\n      if (state.success === false) {\n        // error message header\n        const messages = [`Invalid ${configFileName} options detected: `];\n        const [errorMessages, shouldExit] = normalizeNextConfigZodErrors(state.error);\n        // ident list item\n        for (const error of errorMessages) {\n          messages.push(`    ${error}`);\n        }\n        // error message footer\n        messages.push('See more info here: https://nextjs.org/docs/messages/invalid-next-config');\n        if (shouldExit) {\n          for (const message of messages) {\n            console.error(message);\n          }\n          await (0, _flushandexit.flushAndExit)(1);\n        } else {\n          for (const message of messages) {\n            curLog.warn(message);\n          }\n        }\n      }\n    }\n    if (userConfig.target && userConfig.target !== 'server') {\n      throw Object.defineProperty(new Error(`The \"target\" property is no longer supported in ${configFileName}.\\n` + 'See more info here https://nextjs.org/docs/messages/deprecated-target-config'), \"__NEXT_ERROR_CODE\", {\n        value: \"E478\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n    if ((_userConfig_amp = userConfig.amp) == null ? void 0 : _userConfig_amp.canonicalBase) {\n      const {\n        canonicalBase\n      } = userConfig.amp || {};\n      userConfig.amp = userConfig.amp || {};\n      userConfig.amp.canonicalBase = ((canonicalBase == null ? void 0 : canonicalBase.endsWith('/')) ? canonicalBase.slice(0, -1) : canonicalBase) || '';\n    }\n    if (reactProductionProfiling) {\n      userConfig.reactProductionProfiling = reactProductionProfiling;\n    }\n    if (((_userConfig_experimental = userConfig.experimental) == null ? void 0 : (_userConfig_experimental_turbo = _userConfig_experimental.turbo) == null ? void 0 : _userConfig_experimental_turbo.loaders) && !((_userConfig_experimental1 = userConfig.experimental) == null ? void 0 : (_userConfig_experimental_turbo1 = _userConfig_experimental1.turbo) == null ? void 0 : _userConfig_experimental_turbo1.rules)) {\n      curLog.warn('experimental.turbo.loaders is now deprecated. Please update next.config.js to use experimental.turbo.rules as soon as possible.\\n' + 'The new option is similar, but the key should be a glob instead of an extension.\\n' + 'Example: loaders: { \".mdx\": [\"mdx-loader\"] } -> rules: { \"*.mdx\": [\"mdx-loader\"] }\" }\\n' + 'See more info here https://nextjs.org/docs/app/api-reference/next-config-js/turbo');\n      const rules = {};\n      for (const [ext, loaders] of Object.entries(userConfig.experimental.turbo.loaders)) {\n        rules['*' + ext] = loaders;\n      }\n      userConfig.experimental.turbo.rules = rules;\n    }\n    if ((_userConfig_experimental2 = userConfig.experimental) == null ? void 0 : _userConfig_experimental2.useLightningcss) {\n      var _css, _this;\n      const {\n        loadBindings\n      } = require('next/dist/build/swc');\n      const isLightningSupported = (_this = await loadBindings()) == null ? void 0 : (_css = _this.css) == null ? void 0 : _css.lightning;\n      if (!isLightningSupported) {\n        curLog.warn(`experimental.useLightningcss is set, but the setting is disabled because next-swc/wasm does not support it yet.`);\n        userConfig.experimental.useLightningcss = false;\n      }\n    }\n    // serialize the regex config into string\n    if ((userConfig == null ? void 0 : userConfig.htmlLimitedBots) instanceof RegExp) {\n      // @ts-expect-error: override the htmlLimitedBots with default string, type covert: RegExp -> string\n      userConfig.htmlLimitedBots = userConfig.htmlLimitedBots.source;\n    }\n    onLoadUserConfig == null ? void 0 : onLoadUserConfig(userConfig);\n    const completeConfig = assignDefaults(dir, {\n      configOrigin: (0, _path.relative)(dir, path),\n      configFile: path,\n      configFileName,\n      ...userConfig\n    }, silent);\n    return completeConfig;\n  } else {\n    const configBaseName = (0, _path.basename)(_constants.CONFIG_FILES[0], (0, _path.extname)(_constants.CONFIG_FILES[0]));\n    const unsupportedConfig = _findup.default.sync([`${configBaseName}.cjs`, `${configBaseName}.cts`, `${configBaseName}.mts`, `${configBaseName}.json`, `${configBaseName}.jsx`, `${configBaseName}.tsx`], {\n      cwd: dir\n    });\n    if (unsupportedConfig == null ? void 0 : unsupportedConfig.length) {\n      throw Object.defineProperty(new Error(`Configuring Next.js via '${(0, _path.basename)(unsupportedConfig)}' is not supported. Please replace the file with 'next.config.js', 'next.config.mjs', or 'next.config.ts'.`), \"__NEXT_ERROR_CODE\", {\n        value: \"E203\",\n        enumerable: false,\n        configurable: true\n      });\n    }\n  }\n  // always call assignDefaults to ensure settings like\n  // reactRoot can be updated correctly even with no next.config.js\n  const completeConfig = assignDefaults(dir, _configshared.defaultConfig, silent);\n  completeConfig.configFileName = configFileName;\n  (0, _setuphttpagentenv.setHttpClientAndAgentOptions)(completeConfig);\n  return completeConfig;\n}\nfunction getConfiguredExperimentalFeatures(userNextConfigExperimental) {\n  const configuredExperimentalFeatures = [];\n  if (!userNextConfigExperimental) {\n    return configuredExperimentalFeatures;\n  }\n  // defaultConfig.experimental is predefined and will never be undefined\n  // This is only a type guard for the typescript\n  if (_configshared.defaultConfig.experimental) {\n    for (const name of Object.keys(userNextConfigExperimental)) {\n      const value = userNextConfigExperimental[name];\n      if (name === 'turbo' && !process.env.TURBOPACK) {\n        continue;\n      }\n      if (name in _configshared.defaultConfig.experimental && value !== _configshared.defaultConfig.experimental[name]) {\n        configuredExperimentalFeatures.push(typeof value === 'boolean' ? {\n          name,\n          type: 'boolean',\n          value\n        } : typeof value === 'number' ? {\n          name,\n          type: 'number',\n          value\n        } : {\n          name,\n          type: 'other'\n        });\n      }\n    }\n  }\n  return configuredExperimentalFeatures;\n}","map":{"version":3,"names":["default","loadConfig","getConfiguredExperimentalFeatures","normalizeConfig","_configshared","warnOptionHasBeenDeprecated","warnOptionHasBeenMovedOutOfExperimental","normalizeNextConfigZodErrors","error","shouldExit","issues","_zod","normalizeZodErrors","flatMap","_ref","issue","message","path","config","nestedPropertyKey","reason","silent","hasWarned","current","found","nestedPropertyKeys","split","key","undefined","_log","warnOnce","oldExperimentalKey","newKey","configFileName","experimental","warn","newKeys","length","shift","warnCustomizedOption","defaultValue","customMessage","segs","seg","assignDefaults","dir","userConfig","_defaultConfig_experimental","_result_experimental","_result_devIndicators","_result_experimental_serverActions","_result_experimental1","_result_experimental_turbo","_result_experimental2","_result_experimental_turbo1","_result_experimental3","_result_experimental_turbo2","_result_experimental4","_result_devIndicators1","_result_experimental5","_result_experimental6","exportTrailingSlash","trailingSlash","Object","keys","reduce","currentConfig","value","defineProperty","Error","userDistDir","trim","Array","isArray","forEach","ext","constructor","defaultConfig","c","k","v","ppr","result","allowDevelopmentBuild","process","env","NODE_ENV","_canaryonly","isStableBuild","_result_experimental7","_result_experimental8","_result_experimental_turbo3","_result_experimental9","_result_experimental10","CanaryOnlyError","feature","dynamicIO","turbo","unstablePersistentCaching","nodeMiddleware","output","i18n","_ciinfo","hasNextSupport","rewrites","redirects","headers","assetPrefix","basePath","startsWith","_result_amp","endsWith","amp","canonicalBase","images","localPatterns","hasMatch","some","pattern","pathname","search","push","remotePatterns","_config_assetPrefix","url","URL","hasMatchForAssetPrefix","_matchremotepattern","matchRemotePattern","hostname","protocol","replace","port","domains","loader","_imageconfig","imageConfigDefault","_pathhasprefix","pathHasPrefix","loaderFile","absolutePath","_path","join","_fs","existsSync","hasWarnedBuildActivityPosition","devIndicators","buildActivityPosition","position","outputStandalone","serverActions","bodySizeLimit","_result_experimental_serverActions1","parseInt","toString","isNaN","outputFileTracingRoot","isAbsolute","resolve","root","NEXT_DEPLOYMENT_ID","deploymentId","_dset","dset","rootDir","_findroot","findRootDir","_result_experimental_turbo4","_result_experimental11","_setuphttpagentenv","setHttpClientAndAgentOptions","hasAppDir","Boolean","_findpagesdir","findDir","i18nType","locales","defaultLocaleType","defaultLocale","invalidDomainItems","filter","item","_i18n_domains","domain","includes","console","defaultLocaleDuplicate","find","altItem","hasInvalidLocale","locale","domainItem","map","JSON","stringify","invalidLocales","String","normalizedLocales","Set","duplicateLocales","localeLower","toLowerCase","has","add","size","localeDetectionType","localeDetection","allowedValues","_defaultConfig_experimental1","_defaultConfig_experimental_cacheLife","_defaultConfig_experimental2","_defaultConfig_experimental_staleTimes","_defaultConfig_experimental3","cacheLife","defaultDefault","revalidate","expire","staleTimes","static","defaultCacheLifeProfile","stale","_result_experimental_staleTimes","_defaultConfig_experimental_staleTimes1","_defaultConfig_experimental4","staticStaleTime","expireTime","secondsCacheLifeProfile","_result_experimental_staleTimes1","_defaultConfig_experimental_staleTimes2","_defaultConfig_experimental5","dynamicStaleTime","dynamic","cacheHandlers","allowedHandlerNameRegex","handlerKeys","invalidHandlerItems","test","handlerPath","userProvidedModularizeImports","modularizeImports","transform","lodash","userProvidedOptimizePackageImports","optimizePackageImports","htmlLimitedBots","_isbot","HTML_LIMITED_BOT_UA_RE_STRING","useCache","phase","customConfig","rawConfig","onLoadUserConfig","reactProductionProfiling","arguments","__NEXT_PRIVATE_RENDER_WORKER","_configutils","loadWebpackHook","err","__NEXT_PRIVATE_STANDALONE_CONFIG","parse","curLog","info","_env","loadEnvConfig","_constants","PHASE_DEVELOPMENT_SERVER","configOrigin","_findup","CONFIG_FILES","cwd","__NEXT_TEST_MODE","_userConfig_amp","_userConfig_experimental_turbo","_userConfig_experimental","_userConfig_experimental_turbo1","_userConfig_experimental1","_userConfig_experimental2","basename","userConfigModule","envBefore","assign","require","_transpileconfig","transpileConfig","nextConfigPath","_url","pathToFileURL","href","newEnv","updateInitialEnv","NEXT_MINIMAL","configSchema","state","safeParse","success","messages","errorMessages","_flushandexit","flushAndExit","target","slice","loaders","rules","entries","useLightningcss","_css","_this","loadBindings","isLightningSupported","css","lightning","RegExp","source","completeConfig","relative","configFile","configBaseName","extname","unsupportedConfig","sync","userNextConfigExperimental","configuredExperimentalFeatures","name","TURBOPACK","type"],"sources":["/home/ashish/my-react-app/node_modules/next/src/server/config.ts"],"sourcesContent":["import { existsSync } from 'fs'\nimport { basename, extname, join, relative, isAbsolute, resolve } from 'path'\nimport { pathToFileURL } from 'url'\nimport findUp from 'next/dist/compiled/find-up'\nimport * as Log from '../build/output/log'\nimport { CONFIG_FILES, PHASE_DEVELOPMENT_SERVER } from '../shared/lib/constants'\nimport { defaultConfig, normalizeConfig } from './config-shared'\nimport type {\n  ExperimentalConfig,\n  NextConfigComplete,\n  NextConfig,\n  TurboLoaderItem,\n} from './config-shared'\n\nimport { loadWebpackHook } from './config-utils'\nimport { imageConfigDefault } from '../shared/lib/image-config'\nimport type { ImageConfig } from '../shared/lib/image-config'\nimport { loadEnvConfig, updateInitialEnv } from '@next/env'\nimport { flushAndExit } from '../telemetry/flush-and-exit'\nimport { findRootDir } from '../lib/find-root'\nimport { setHttpClientAndAgentOptions } from './setup-http-agent-env'\nimport { pathHasPrefix } from '../shared/lib/router/utils/path-has-prefix'\nimport { matchRemotePattern } from '../shared/lib/match-remote-pattern'\n\nimport type { ZodError } from 'next/dist/compiled/zod'\nimport { hasNextSupport } from '../server/ci-info'\nimport { transpileConfig } from '../build/next-config-ts/transpile-config'\nimport { dset } from '../shared/lib/dset'\nimport { normalizeZodErrors } from '../shared/lib/zod'\nimport { HTML_LIMITED_BOT_UA_RE_STRING } from '../shared/lib/router/utils/is-bot'\nimport { findDir } from '../lib/find-pages-dir'\nimport { CanaryOnlyError, isStableBuild } from '../shared/lib/canary-only'\n\nexport { normalizeConfig } from './config-shared'\nexport type { DomainLocale, NextConfig } from './config-shared'\n\nfunction normalizeNextConfigZodErrors(\n  error: ZodError<NextConfig>\n): [errorMessages: string[], shouldExit: boolean] {\n  let shouldExit = false\n  const issues = normalizeZodErrors(error)\n  return [\n    issues.flatMap(({ issue, message }) => {\n      if (issue.path[0] === 'images') {\n        // We exit the build when encountering an error in the images config\n        shouldExit = true\n      }\n\n      return message\n    }),\n    shouldExit,\n  ]\n}\n\nexport function warnOptionHasBeenDeprecated(\n  config: NextConfig,\n  nestedPropertyKey: string,\n  reason: string,\n  silent: boolean\n): boolean {\n  let hasWarned = false\n  if (!silent) {\n    let current = config\n    let found = true\n    const nestedPropertyKeys = nestedPropertyKey.split('.')\n    for (const key of nestedPropertyKeys) {\n      if (current[key] !== undefined) {\n        current = current[key]\n      } else {\n        found = false\n        break\n      }\n    }\n    if (found) {\n      Log.warnOnce(reason)\n      hasWarned = true\n    }\n  }\n  return hasWarned\n}\n\nexport function warnOptionHasBeenMovedOutOfExperimental(\n  config: NextConfig,\n  oldExperimentalKey: string,\n  newKey: string,\n  configFileName: string,\n  silent: boolean\n) {\n  if (config.experimental && oldExperimentalKey in config.experimental) {\n    if (!silent) {\n      Log.warn(\n        `\\`experimental.${oldExperimentalKey}\\` has been moved to \\`${newKey}\\`. ` +\n          `Please update your ${configFileName} file accordingly.`\n      )\n    }\n\n    let current = config\n    const newKeys = newKey.split('.')\n    while (newKeys.length > 1) {\n      const key = newKeys.shift()!\n      current[key] = current[key] || {}\n      current = current[key]\n    }\n    current[newKeys.shift()!] = (config.experimental as any)[oldExperimentalKey]\n  }\n\n  return config\n}\n\nfunction warnCustomizedOption(\n  config: NextConfig,\n  key: string,\n  defaultValue: any,\n  customMessage: string,\n  configFileName: string,\n  silent: boolean\n) {\n  const segs = key.split('.')\n  let current = config\n\n  while (segs.length >= 1) {\n    const seg = segs.shift()!\n    if (!(seg in current)) {\n      return\n    }\n    current = current[seg]\n  }\n\n  if (!silent && current !== defaultValue) {\n    Log.warn(\n      `The \"${key}\" option has been modified. ${customMessage ? customMessage + '. ' : ''}It should be removed from your ${configFileName}.`\n    )\n  }\n}\n\nfunction assignDefaults(\n  dir: string,\n  userConfig: { [key: string]: any },\n  silent: boolean\n) {\n  const configFileName = userConfig.configFileName\n  if (typeof userConfig.exportTrailingSlash !== 'undefined') {\n    if (!silent) {\n      Log.warn(\n        `The \"exportTrailingSlash\" option has been renamed to \"trailingSlash\". Please update your ${configFileName}.`\n      )\n    }\n    if (typeof userConfig.trailingSlash === 'undefined') {\n      userConfig.trailingSlash = userConfig.exportTrailingSlash\n    }\n    delete userConfig.exportTrailingSlash\n  }\n\n  const config = Object.keys(userConfig).reduce<{ [key: string]: any }>(\n    (currentConfig, key) => {\n      const value = userConfig[key]\n\n      if (value === undefined || value === null) {\n        return currentConfig\n      }\n\n      if (key === 'distDir') {\n        if (typeof value !== 'string') {\n          throw new Error(\n            `Specified distDir is not a string, found type \"${typeof value}\"`\n          )\n        }\n        const userDistDir = value.trim()\n\n        // don't allow public as the distDir as this is a reserved folder for\n        // public files\n        if (userDistDir === 'public') {\n          throw new Error(\n            `The 'public' directory is reserved in Next.js and can not be set as the 'distDir'. https://nextjs.org/docs/messages/can-not-output-to-public`\n          )\n        }\n        // make sure distDir isn't an empty string as it can result in the provided\n        // directory being deleted in development mode\n        if (userDistDir.length === 0) {\n          throw new Error(\n            `Invalid distDir provided, distDir can not be an empty string. Please remove this config or set it to undefined`\n          )\n        }\n      }\n\n      if (key === 'pageExtensions') {\n        if (!Array.isArray(value)) {\n          throw new Error(\n            `Specified pageExtensions is not an array of strings, found \"${value}\". Please update this config or remove it.`\n          )\n        }\n\n        if (!value.length) {\n          throw new Error(\n            `Specified pageExtensions is an empty array. Please update it with the relevant extensions or remove it.`\n          )\n        }\n\n        value.forEach((ext) => {\n          if (typeof ext !== 'string') {\n            throw new Error(\n              `Specified pageExtensions is not an array of strings, found \"${ext}\" of type \"${typeof ext}\". Please update this config or remove it.`\n            )\n          }\n        })\n      }\n\n      if (!!value && value.constructor === Object) {\n        currentConfig[key] = {\n          ...defaultConfig[key],\n          ...Object.keys(value).reduce<any>((c, k) => {\n            const v = value[k]\n            if (v !== undefined && v !== null) {\n              c[k] = v\n            }\n            return c\n          }, {}),\n        }\n      } else {\n        currentConfig[key] = value\n      }\n\n      return currentConfig\n    },\n    {}\n  )\n\n  // TODO: remove these once we've made PPR default\n  // If this was defaulted to true, it implies that the configuration was\n  // overridden for testing to be defaulted on.\n  if (defaultConfig.experimental?.ppr) {\n    Log.warn(\n      `\\`experimental.ppr\\` has been defaulted to \\`true\\` because \\`__NEXT_EXPERIMENTAL_PPR\\` was set to \\`true\\` during testing.`\n    )\n  }\n\n  const result = { ...defaultConfig, ...config }\n\n  if (\n    result.experimental?.allowDevelopmentBuild &&\n    process.env.NODE_ENV !== 'development'\n  ) {\n    throw new Error(\n      `The experimental.allowDevelopmentBuild option requires NODE_ENV to be explicitly set to 'development'.`\n    )\n  }\n\n  if (isStableBuild()) {\n    // Prevents usage of certain experimental features outside of canary\n    if (result.experimental?.ppr) {\n      throw new CanaryOnlyError({ feature: 'experimental.ppr' })\n    } else if (result.experimental?.dynamicIO) {\n      throw new CanaryOnlyError({ feature: 'experimental.dynamicIO' })\n    } else if (result.experimental?.turbo?.unstablePersistentCaching) {\n      throw new CanaryOnlyError({\n        feature: 'experimental.turbo.unstablePersistentCaching',\n      })\n    } else if (result.experimental?.nodeMiddleware) {\n      throw new CanaryOnlyError({ feature: 'experimental.nodeMiddleware' })\n    }\n  }\n\n  if (result.output === 'export') {\n    if (result.i18n) {\n      throw new Error(\n        'Specified \"i18n\" cannot be used with \"output: export\". See more info here: https://nextjs.org/docs/messages/export-no-i18n'\n      )\n    }\n\n    if (!hasNextSupport) {\n      if (result.rewrites) {\n        Log.warn(\n          'Specified \"rewrites\" will not automatically work with \"output: export\". See more info here: https://nextjs.org/docs/messages/export-no-custom-routes'\n        )\n      }\n      if (result.redirects) {\n        Log.warn(\n          'Specified \"redirects\" will not automatically work with \"output: export\". See more info here: https://nextjs.org/docs/messages/export-no-custom-routes'\n        )\n      }\n      if (result.headers) {\n        Log.warn(\n          'Specified \"headers\" will not automatically work with \"output: export\". See more info here: https://nextjs.org/docs/messages/export-no-custom-routes'\n        )\n      }\n    }\n  }\n\n  if (typeof result.assetPrefix !== 'string') {\n    throw new Error(\n      `Specified assetPrefix is not a string, found type \"${typeof result.assetPrefix}\" https://nextjs.org/docs/messages/invalid-assetprefix`\n    )\n  }\n\n  if (typeof result.basePath !== 'string') {\n    throw new Error(\n      `Specified basePath is not a string, found type \"${typeof result.basePath}\"`\n    )\n  }\n\n  if (result.basePath !== '') {\n    if (result.basePath === '/') {\n      throw new Error(\n        `Specified basePath /. basePath has to be either an empty string or a path prefix\"`\n      )\n    }\n\n    if (!result.basePath.startsWith('/')) {\n      throw new Error(\n        `Specified basePath has to start with a /, found \"${result.basePath}\"`\n      )\n    }\n\n    if (result.basePath !== '/') {\n      if (result.basePath.endsWith('/')) {\n        throw new Error(\n          `Specified basePath should not end with /, found \"${result.basePath}\"`\n        )\n      }\n\n      if (result.assetPrefix === '') {\n        result.assetPrefix = result.basePath\n      }\n\n      if (result.amp?.canonicalBase === '') {\n        result.amp.canonicalBase = result.basePath\n      }\n    }\n  }\n\n  if (result?.images) {\n    const images: ImageConfig = result.images\n\n    if (typeof images !== 'object') {\n      throw new Error(\n        `Specified images should be an object received ${typeof images}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-images-config`\n      )\n    }\n\n    if (images.localPatterns) {\n      if (!Array.isArray(images.localPatterns)) {\n        throw new Error(\n          `Specified images.localPatterns should be an Array received ${typeof images.localPatterns}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-images-config`\n        )\n      }\n      // avoid double-pushing the same pattern if it already exists\n      const hasMatch = images.localPatterns.some(\n        (pattern) =>\n          pattern.pathname === '/_next/static/media/**' && pattern.search === ''\n      )\n      if (!hasMatch) {\n        // static import images are automatically allowed\n        images.localPatterns.push({\n          pathname: '/_next/static/media/**',\n          search: '',\n        })\n      }\n    }\n\n    if (images.remotePatterns) {\n      if (!Array.isArray(images.remotePatterns)) {\n        throw new Error(\n          `Specified images.remotePatterns should be an Array received ${typeof images.remotePatterns}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-images-config`\n        )\n      }\n\n      // static images are automatically prefixed with assetPrefix\n      // so we need to ensure _next/image allows downloading from\n      // this resource\n      if (config.assetPrefix?.startsWith('http')) {\n        try {\n          const url = new URL(config.assetPrefix)\n          const hasMatchForAssetPrefix = images.remotePatterns.some((pattern) =>\n            matchRemotePattern(pattern, url)\n          )\n\n          // avoid double-pushing the same pattern if it already can be matched\n          if (!hasMatchForAssetPrefix) {\n            images.remotePatterns.push({\n              hostname: url.hostname,\n              protocol: url.protocol.replace(/:$/, '') as 'http' | 'https',\n              port: url.port,\n            })\n          }\n        } catch (error) {\n          throw new Error(\n            `Invalid assetPrefix provided. Original error: ${error}`\n          )\n        }\n      }\n    }\n\n    if (images.domains) {\n      if (!Array.isArray(images.domains)) {\n        throw new Error(\n          `Specified images.domains should be an Array received ${typeof images.domains}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-images-config`\n        )\n      }\n    }\n\n    if (!images.loader) {\n      images.loader = 'default'\n    }\n\n    if (\n      images.loader !== 'default' &&\n      images.loader !== 'custom' &&\n      images.path === imageConfigDefault.path\n    ) {\n      throw new Error(\n        `Specified images.loader property (${images.loader}) also requires images.path property to be assigned to a URL prefix.\\nSee more info here: https://nextjs.org/docs/api-reference/next/legacy/image#loader-configuration`\n      )\n    }\n\n    if (\n      images.path === imageConfigDefault.path &&\n      result.basePath &&\n      !pathHasPrefix(images.path, result.basePath)\n    ) {\n      images.path = `${result.basePath}${images.path}`\n    }\n\n    // Append trailing slash for non-default loaders and when trailingSlash is set\n    if (\n      images.path &&\n      !images.path.endsWith('/') &&\n      (images.loader !== 'default' || result.trailingSlash)\n    ) {\n      images.path += '/'\n    }\n\n    if (images.loaderFile) {\n      if (images.loader !== 'default' && images.loader !== 'custom') {\n        throw new Error(\n          `Specified images.loader property (${images.loader}) cannot be used with images.loaderFile property. Please set images.loader to \"custom\".`\n        )\n      }\n      const absolutePath = join(dir, images.loaderFile)\n      if (!existsSync(absolutePath)) {\n        throw new Error(\n          `Specified images.loaderFile does not exist at \"${absolutePath}\".`\n        )\n      }\n      images.loaderFile = absolutePath\n    }\n  }\n\n  warnCustomizedOption(\n    result,\n    'experimental.esmExternals',\n    true,\n    'experimental.esmExternals is not recommended to be modified as it may disrupt module resolution',\n    configFileName,\n    silent\n  )\n\n  warnOptionHasBeenDeprecated(\n    result,\n    'experimental.instrumentationHook',\n    `\\`experimental.instrumentationHook\\` is no longer needed, because \\`instrumentation.js\\` is available by default. You can remove it from ${configFileName}.`,\n    silent\n  )\n\n  warnOptionHasBeenDeprecated(\n    result,\n    'experimental.after',\n    `\\`experimental.after\\` is no longer needed, because \\`after\\` is available by default. You can remove it from ${configFileName}.`,\n    silent\n  )\n\n  warnOptionHasBeenDeprecated(\n    result,\n    'devIndicators.appIsrStatus',\n    `\\`devIndicators.appIsrStatus\\` is deprecated and no longer configurable. Please remove it from ${configFileName}.`,\n    silent\n  )\n\n  warnOptionHasBeenDeprecated(\n    result,\n    'devIndicators.buildActivity',\n    `\\`devIndicators.buildActivity\\` is deprecated and no longer configurable. Please remove it from ${configFileName}.`,\n    silent\n  )\n\n  const hasWarnedBuildActivityPosition = warnOptionHasBeenDeprecated(\n    result,\n    'devIndicators.buildActivityPosition',\n    `\\`devIndicators.buildActivityPosition\\` has been renamed to \\`devIndicators.position\\`. Please update your ${configFileName} file accordingly.`,\n    silent\n  )\n  if (\n    hasWarnedBuildActivityPosition &&\n    result.devIndicators !== false &&\n    result.devIndicators?.buildActivityPosition &&\n    result.devIndicators.buildActivityPosition !== result.devIndicators.position\n  ) {\n    Log.warnOnce(\n      `The \\`devIndicators\\` option \\`buildActivityPosition\\` (\"${result.devIndicators.buildActivityPosition}\") conflicts with \\`position\\` (\"${result.devIndicators.position}\"). Using \\`buildActivityPosition\\` (\"${result.devIndicators.buildActivityPosition}\") for backward compatibility.`\n    )\n    result.devIndicators.position = result.devIndicators.buildActivityPosition\n  }\n\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'bundlePagesExternals',\n    'bundlePagesRouterDependencies',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'serverComponentsExternalPackages',\n    'serverExternalPackages',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'relay',\n    'compiler.relay',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'styledComponents',\n    'compiler.styledComponents',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'emotion',\n    'compiler.emotion',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'reactRemoveProperties',\n    'compiler.reactRemoveProperties',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'removeConsole',\n    'compiler.removeConsole',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'swrDelta',\n    'expireTime',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'outputFileTracingRoot',\n    'outputFileTracingRoot',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'outputFileTracingIncludes',\n    'outputFileTracingIncludes',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'outputFileTracingExcludes',\n    'outputFileTracingExcludes',\n    configFileName,\n    silent\n  )\n\n  if ((result.experimental as any).outputStandalone) {\n    if (!silent) {\n      Log.warn(\n        `experimental.outputStandalone has been renamed to \"output: 'standalone'\", please move the config.`\n      )\n    }\n    result.output = 'standalone'\n  }\n\n  if (\n    typeof result.experimental?.serverActions?.bodySizeLimit !== 'undefined'\n  ) {\n    const value = parseInt(\n      result.experimental.serverActions?.bodySizeLimit.toString()\n    )\n    if (isNaN(value) || value < 1) {\n      throw new Error(\n        'Server Actions Size Limit must be a valid number or filesize format larger than 1MB: https://nextjs.org/docs/app/api-reference/next-config-js/serverActions#bodysizelimit'\n      )\n    }\n  }\n\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'transpilePackages',\n    'transpilePackages',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'skipMiddlewareUrlNormalize',\n    'skipMiddlewareUrlNormalize',\n    configFileName,\n    silent\n  )\n  warnOptionHasBeenMovedOutOfExperimental(\n    result,\n    'skipTrailingSlashRedirect',\n    'skipTrailingSlashRedirect',\n    configFileName,\n    silent\n  )\n\n  if (\n    result?.outputFileTracingRoot &&\n    !isAbsolute(result.outputFileTracingRoot)\n  ) {\n    result.outputFileTracingRoot = resolve(result.outputFileTracingRoot)\n    if (!silent) {\n      Log.warn(\n        `outputFileTracingRoot should be absolute, using: ${result.outputFileTracingRoot}`\n      )\n    }\n  }\n\n  if (\n    result?.experimental?.turbo?.root &&\n    !isAbsolute(result.experimental.turbo.root)\n  ) {\n    result.experimental.turbo.root = resolve(result.experimental.turbo.root)\n    if (!silent) {\n      Log.warn(\n        `experimental.turbo.root should be absolute, using: ${result.experimental.turbo.root}`\n      )\n    }\n  }\n\n  // only leverage deploymentId\n  if (process.env.NEXT_DEPLOYMENT_ID) {\n    result.deploymentId = process.env.NEXT_DEPLOYMENT_ID\n  }\n\n  if (result?.outputFileTracingRoot && !result?.experimental?.turbo?.root) {\n    dset(\n      result,\n      ['experimental', 'turbo', 'root'],\n      result.outputFileTracingRoot\n    )\n  }\n\n  // use the closest lockfile as tracing root\n  if (!result?.outputFileTracingRoot || !result?.experimental?.turbo?.root) {\n    let rootDir = findRootDir(dir)\n\n    if (rootDir) {\n      if (!result?.outputFileTracingRoot) {\n        result.outputFileTracingRoot = rootDir\n        defaultConfig.outputFileTracingRoot = result.outputFileTracingRoot\n      }\n\n      if (!result?.experimental?.turbo?.root) {\n        dset(result, ['experimental', 'turbo', 'root'], rootDir)\n        dset(defaultConfig, ['experimental', 'turbo', 'root'], rootDir)\n      }\n    }\n  }\n\n  setHttpClientAndAgentOptions(result || defaultConfig)\n\n  if (result.i18n) {\n    const hasAppDir = Boolean(findDir(dir, 'app'))\n\n    if (hasAppDir) {\n      warnOptionHasBeenDeprecated(\n        result,\n        'i18n',\n        `i18n configuration in ${configFileName} is unsupported in App Router.\\nLearn more about internationalization in App Router: https://nextjs.org/docs/app/building-your-application/routing/internationalization`,\n        silent\n      )\n    }\n\n    const { i18n } = result\n    const i18nType = typeof i18n\n\n    if (i18nType !== 'object') {\n      throw new Error(\n        `Specified i18n should be an object received ${i18nType}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n      )\n    }\n\n    if (!Array.isArray(i18n.locales)) {\n      throw new Error(\n        `Specified i18n.locales should be an Array received ${typeof i18n.locales}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n      )\n    }\n\n    if (i18n.locales.length > 100 && !silent) {\n      Log.warn(\n        `Received ${i18n.locales.length} i18n.locales items which exceeds the recommended max of 100.\\nSee more info here: https://nextjs.org/docs/advanced-features/i18n-routing#how-does-this-work-with-static-generation`\n      )\n    }\n\n    const defaultLocaleType = typeof i18n.defaultLocale\n\n    if (!i18n.defaultLocale || defaultLocaleType !== 'string') {\n      throw new Error(\n        `Specified i18n.defaultLocale should be a string.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n      )\n    }\n\n    if (typeof i18n.domains !== 'undefined' && !Array.isArray(i18n.domains)) {\n      throw new Error(\n        `Specified i18n.domains must be an array of domain objects e.g. [ { domain: 'example.fr', defaultLocale: 'fr', locales: ['fr'] } ] received ${typeof i18n.domains}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n      )\n    }\n\n    if (i18n.domains) {\n      const invalidDomainItems = i18n.domains.filter((item) => {\n        if (!item || typeof item !== 'object') return true\n        if (!item.defaultLocale) return true\n        if (!item.domain || typeof item.domain !== 'string') return true\n\n        if (item.domain.includes(':')) {\n          console.warn(\n            `i18n domain: \"${item.domain}\" is invalid it should be a valid domain without protocol (https://) or port (:3000) e.g. example.vercel.sh`\n          )\n          return true\n        }\n\n        const defaultLocaleDuplicate = i18n.domains?.find(\n          (altItem) =>\n            altItem.defaultLocale === item.defaultLocale &&\n            altItem.domain !== item.domain\n        )\n\n        if (!silent && defaultLocaleDuplicate) {\n          console.warn(\n            `Both ${item.domain} and ${defaultLocaleDuplicate.domain} configured the defaultLocale ${item.defaultLocale} but only one can. Change one item's default locale to continue`\n          )\n          return true\n        }\n\n        let hasInvalidLocale = false\n\n        if (Array.isArray(item.locales)) {\n          for (const locale of item.locales) {\n            if (typeof locale !== 'string') hasInvalidLocale = true\n\n            for (const domainItem of i18n.domains || []) {\n              if (domainItem === item) continue\n              if (domainItem.locales && domainItem.locales.includes(locale)) {\n                console.warn(\n                  `Both ${item.domain} and ${domainItem.domain} configured the locale (${locale}) but only one can. Remove it from one i18n.domains config to continue`\n                )\n                hasInvalidLocale = true\n                break\n              }\n            }\n          }\n        }\n\n        return hasInvalidLocale\n      })\n\n      if (invalidDomainItems.length > 0) {\n        throw new Error(\n          `Invalid i18n.domains values:\\n${invalidDomainItems\n            .map((item: any) => JSON.stringify(item))\n            .join(\n              '\\n'\n            )}\\n\\ndomains value must follow format { domain: 'example.fr', defaultLocale: 'fr', locales: ['fr'] }.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n        )\n      }\n    }\n\n    if (!Array.isArray(i18n.locales)) {\n      throw new Error(\n        `Specified i18n.locales must be an array of locale strings e.g. [\"en-US\", \"nl-NL\"] received ${typeof i18n.locales}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n      )\n    }\n\n    const invalidLocales = i18n.locales.filter(\n      (locale: any) => typeof locale !== 'string'\n    )\n\n    if (invalidLocales.length > 0) {\n      throw new Error(\n        `Specified i18n.locales contains invalid values (${invalidLocales\n          .map(String)\n          .join(\n            ', '\n          )}), locales must be valid locale tags provided as strings e.g. \"en-US\".\\n` +\n          `See here for list of valid language sub-tags: http://www.iana.org/assignments/language-subtag-registry/language-subtag-registry`\n      )\n    }\n\n    if (!i18n.locales.includes(i18n.defaultLocale)) {\n      throw new Error(\n        `Specified i18n.defaultLocale should be included in i18n.locales.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n      )\n    }\n\n    const normalizedLocales = new Set()\n    const duplicateLocales = new Set()\n\n    i18n.locales.forEach((locale) => {\n      const localeLower = locale.toLowerCase()\n      if (normalizedLocales.has(localeLower)) {\n        duplicateLocales.add(locale)\n      }\n      normalizedLocales.add(localeLower)\n    })\n\n    if (duplicateLocales.size > 0) {\n      throw new Error(\n        `Specified i18n.locales contains the following duplicate locales:\\n` +\n          `${[...duplicateLocales].join(', ')}\\n` +\n          `Each locale should be listed only once.\\n` +\n          `See more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n      )\n    }\n\n    // make sure default Locale is at the front\n    i18n.locales = [\n      i18n.defaultLocale,\n      ...i18n.locales.filter((locale) => locale !== i18n.defaultLocale),\n    ]\n\n    const localeDetectionType = typeof i18n.localeDetection\n\n    if (\n      localeDetectionType !== 'boolean' &&\n      localeDetectionType !== 'undefined'\n    ) {\n      throw new Error(\n        `Specified i18n.localeDetection should be undefined or a boolean received ${localeDetectionType}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`\n      )\n    }\n  }\n\n  if (result.devIndicators !== false && result.devIndicators?.position) {\n    const { position } = result.devIndicators\n    const allowedValues = [\n      'top-left',\n      'top-right',\n      'bottom-left',\n      'bottom-right',\n    ]\n\n    if (!allowedValues.includes(position)) {\n      throw new Error(\n        `Invalid \"devIndicator.position\" provided, expected one of ${allowedValues.join(\n          ', '\n        )}, received ${position}`\n      )\n    }\n  }\n\n  if (result.experimental) {\n    result.experimental.cacheLife = {\n      ...defaultConfig.experimental?.cacheLife,\n      ...result.experimental.cacheLife,\n    }\n    const defaultDefault = defaultConfig.experimental?.cacheLife?.['default']\n    if (\n      !defaultDefault ||\n      defaultDefault.revalidate === undefined ||\n      defaultDefault.expire === undefined ||\n      !defaultConfig.experimental?.staleTimes?.static\n    ) {\n      throw new Error('No default cacheLife profile.')\n    }\n    const defaultCacheLifeProfile = result.experimental.cacheLife['default']\n    if (!defaultCacheLifeProfile) {\n      result.experimental.cacheLife['default'] = defaultDefault\n    } else {\n      if (defaultCacheLifeProfile.stale === undefined) {\n        const staticStaleTime = result.experimental.staleTimes?.static\n        defaultCacheLifeProfile.stale =\n          staticStaleTime ?? defaultConfig.experimental?.staleTimes?.static\n      }\n      if (defaultCacheLifeProfile.revalidate === undefined) {\n        defaultCacheLifeProfile.revalidate = defaultDefault.revalidate\n      }\n      if (defaultCacheLifeProfile.expire === undefined) {\n        defaultCacheLifeProfile.expire =\n          result.expireTime ?? defaultDefault.expire\n      }\n    }\n    // This is the most dynamic cache life profile.\n    const secondsCacheLifeProfile = result.experimental.cacheLife['seconds']\n    if (\n      secondsCacheLifeProfile &&\n      secondsCacheLifeProfile.stale === undefined\n    ) {\n      // We default this to whatever stale time you had configured for dynamic content.\n      // Since this is basically a dynamic cache life profile.\n      const dynamicStaleTime = result.experimental.staleTimes?.dynamic\n      secondsCacheLifeProfile.stale =\n        dynamicStaleTime ?? defaultConfig.experimental?.staleTimes?.dynamic\n    }\n  }\n\n  if (result.experimental?.cacheHandlers) {\n    const allowedHandlerNameRegex = /[a-z-]/\n\n    if (typeof result.experimental.cacheHandlers !== 'object') {\n      throw new Error(\n        `Invalid \"experimental.cacheHandlers\" provided, expected an object e.g. { default: '/my-handler.js' }, received ${JSON.stringify(result.experimental.cacheHandlers)}`\n      )\n    }\n\n    const handlerKeys = Object.keys(result.experimental.cacheHandlers)\n    const invalidHandlerItems: Array<{ key: string; reason: string }> = []\n\n    for (const key of handlerKeys) {\n      if (!allowedHandlerNameRegex.test(key)) {\n        invalidHandlerItems.push({\n          key,\n          reason: 'key must only use characters a-z and -',\n        })\n      } else {\n        const handlerPath = result.experimental.cacheHandlers[key]\n\n        if (handlerPath && !existsSync(handlerPath)) {\n          invalidHandlerItems.push({\n            key,\n            reason: `cache handler path provided does not exist, received ${handlerPath}`,\n          })\n        }\n      }\n      if (invalidHandlerItems.length) {\n        throw new Error(\n          `Invalid handler fields configured for \"experimental.cacheHandler\":\\n${invalidHandlerItems.map((item) => `${key}: ${item.reason}`).join('\\n')}`\n        )\n      }\n    }\n  }\n\n  const userProvidedModularizeImports = result.modularizeImports\n  // Unfortunately these packages end up re-exporting 10600 modules, for example: https://unpkg.com/browse/@mui/icons-material@5.11.16/esm/index.js.\n  // Leveraging modularizeImports tremendously reduces compile times for these.\n  result.modularizeImports = {\n    ...(userProvidedModularizeImports || {}),\n    // This is intentionally added after the user-provided modularizeImports config.\n    '@mui/icons-material': {\n      transform: '@mui/icons-material/{{member}}',\n    },\n    lodash: {\n      transform: 'lodash/{{member}}',\n    },\n  }\n\n  const userProvidedOptimizePackageImports =\n    result.experimental?.optimizePackageImports || []\n  if (!result.experimental) {\n    result.experimental = {}\n  }\n\n  result.experimental.optimizePackageImports = [\n    ...new Set([\n      ...userProvidedOptimizePackageImports,\n      'lucide-react',\n      'date-fns',\n      'lodash-es',\n      'ramda',\n      'antd',\n      'react-bootstrap',\n      'ahooks',\n      '@ant-design/icons',\n      '@headlessui/react',\n      '@headlessui-float/react',\n      '@heroicons/react/20/solid',\n      '@heroicons/react/24/solid',\n      '@heroicons/react/24/outline',\n      '@visx/visx',\n      '@tremor/react',\n      'rxjs',\n      '@mui/material',\n      '@mui/icons-material',\n      'recharts',\n      'react-use',\n      'effect',\n      '@effect/schema',\n      '@effect/platform',\n      '@effect/platform-node',\n      '@effect/platform-browser',\n      '@effect/platform-bun',\n      '@effect/sql',\n      '@effect/sql-mssql',\n      '@effect/sql-mysql2',\n      '@effect/sql-pg',\n      '@effect/sql-squlite-node',\n      '@effect/sql-squlite-bun',\n      '@effect/sql-squlite-wasm',\n      '@effect/sql-squlite-react-native',\n      '@effect/sql-squlite-wasm',\n      '@effect/rpc',\n      '@effect/rpc-http',\n      '@effect/typeclass',\n      '@effect/experimental',\n      '@effect/opentelemetry',\n      '@material-ui/core',\n      '@material-ui/icons',\n      '@tabler/icons-react',\n      'mui-core',\n      // We don't support wildcard imports for these configs, e.g. `react-icons/*`\n      // so we need to add them manually.\n      // In the future, we should consider automatically detecting packages that\n      // need to be optimized.\n      'react-icons/ai',\n      'react-icons/bi',\n      'react-icons/bs',\n      'react-icons/cg',\n      'react-icons/ci',\n      'react-icons/di',\n      'react-icons/fa',\n      'react-icons/fa6',\n      'react-icons/fc',\n      'react-icons/fi',\n      'react-icons/gi',\n      'react-icons/go',\n      'react-icons/gr',\n      'react-icons/hi',\n      'react-icons/hi2',\n      'react-icons/im',\n      'react-icons/io',\n      'react-icons/io5',\n      'react-icons/lia',\n      'react-icons/lib',\n      'react-icons/lu',\n      'react-icons/md',\n      'react-icons/pi',\n      'react-icons/ri',\n      'react-icons/rx',\n      'react-icons/si',\n      'react-icons/sl',\n      'react-icons/tb',\n      'react-icons/tfi',\n      'react-icons/ti',\n      'react-icons/vsc',\n      'react-icons/wi',\n    ]),\n  ]\n\n  if (!result.htmlLimitedBots) {\n    // @ts-expect-error: override the htmlLimitedBots with default string, type covert: RegExp -> string\n    result.htmlLimitedBots = HTML_LIMITED_BOT_UA_RE_STRING\n  }\n\n  // \"use cache\" was originally implicitly enabled with the dynamicIO flag, so\n  // we transfer the value for dynamicIO to the explicit useCache flag to ensure\n  // backwards compatibility.\n  if (result.experimental.useCache === undefined) {\n    result.experimental.useCache = result.experimental.dynamicIO\n  }\n\n  return result\n}\n\nexport default async function loadConfig(\n  phase: string,\n  dir: string,\n  {\n    customConfig,\n    rawConfig,\n    silent = true,\n    onLoadUserConfig,\n    reactProductionProfiling,\n  }: {\n    customConfig?: object | null\n    rawConfig?: boolean\n    silent?: boolean\n    onLoadUserConfig?: (conf: NextConfig) => void\n    reactProductionProfiling?: boolean\n  } = {}\n): Promise<NextConfigComplete> {\n  if (!process.env.__NEXT_PRIVATE_RENDER_WORKER) {\n    try {\n      loadWebpackHook()\n    } catch (err) {\n      // this can fail in standalone mode as the files\n      // aren't traced/included\n      if (!process.env.__NEXT_PRIVATE_STANDALONE_CONFIG) {\n        throw err\n      }\n    }\n  }\n\n  if (process.env.__NEXT_PRIVATE_STANDALONE_CONFIG) {\n    return JSON.parse(process.env.__NEXT_PRIVATE_STANDALONE_CONFIG)\n  }\n\n  const curLog = silent\n    ? {\n        warn: () => {},\n        info: () => {},\n        error: () => {},\n      }\n    : Log\n\n  loadEnvConfig(dir, phase === PHASE_DEVELOPMENT_SERVER, curLog)\n\n  let configFileName = 'next.config.js'\n\n  if (customConfig) {\n    return assignDefaults(\n      dir,\n      {\n        configOrigin: 'server',\n        configFileName,\n        ...customConfig,\n      },\n      silent\n    ) as NextConfigComplete\n  }\n\n  const path = await findUp(CONFIG_FILES, { cwd: dir })\n\n  if (process.env.__NEXT_TEST_MODE) {\n    if (path) {\n      Log.info(`Loading config from ${path}`)\n    } else {\n      Log.info('No config file found')\n    }\n  }\n\n  // If config file was found\n  if (path?.length) {\n    configFileName = basename(path)\n\n    let userConfigModule: any\n    try {\n      const envBefore = Object.assign({}, process.env)\n\n      // `import()` expects url-encoded strings, so the path must be properly\n      // escaped and (especially on Windows) absolute paths must pe prefixed\n      // with the `file://` protocol\n      if (process.env.__NEXT_TEST_MODE === 'jest') {\n        // dynamic import does not currently work inside of vm which\n        // jest relies on so we fall back to require for this case\n        // https://github.com/nodejs/node/issues/35889\n        userConfigModule = require(path)\n      } else if (configFileName === 'next.config.ts') {\n        userConfigModule = await transpileConfig({\n          nextConfigPath: path,\n          cwd: dir,\n        })\n      } else {\n        userConfigModule = await import(pathToFileURL(path).href)\n      }\n      const newEnv: typeof process.env = {} as any\n\n      for (const key of Object.keys(process.env)) {\n        if (envBefore[key] !== process.env[key]) {\n          newEnv[key] = process.env[key]\n        }\n      }\n      updateInitialEnv(newEnv)\n\n      if (rawConfig) {\n        return userConfigModule\n      }\n    } catch (err) {\n      // TODO: Modify docs to add cases of failing next.config.ts transformation\n      curLog.error(\n        `Failed to load ${configFileName}, see more info here https://nextjs.org/docs/messages/next-config-error`\n      )\n      throw err\n    }\n\n    const userConfig = (await normalizeConfig(\n      phase,\n      userConfigModule.default || userConfigModule\n    )) as NextConfig\n\n    if (!process.env.NEXT_MINIMAL) {\n      // We only validate the config against schema in non minimal mode\n      const { configSchema } =\n        require('./config-schema') as typeof import('./config-schema')\n      const state = configSchema.safeParse(userConfig)\n\n      if (state.success === false) {\n        // error message header\n        const messages = [`Invalid ${configFileName} options detected: `]\n\n        const [errorMessages, shouldExit] = normalizeNextConfigZodErrors(\n          state.error\n        )\n        // ident list item\n        for (const error of errorMessages) {\n          messages.push(`    ${error}`)\n        }\n\n        // error message footer\n        messages.push(\n          'See more info here: https://nextjs.org/docs/messages/invalid-next-config'\n        )\n\n        if (shouldExit) {\n          for (const message of messages) {\n            console.error(message)\n          }\n          await flushAndExit(1)\n        } else {\n          for (const message of messages) {\n            curLog.warn(message)\n          }\n        }\n      }\n    }\n\n    if (userConfig.target && userConfig.target !== 'server') {\n      throw new Error(\n        `The \"target\" property is no longer supported in ${configFileName}.\\n` +\n          'See more info here https://nextjs.org/docs/messages/deprecated-target-config'\n      )\n    }\n\n    if (userConfig.amp?.canonicalBase) {\n      const { canonicalBase } = userConfig.amp || ({} as any)\n      userConfig.amp = userConfig.amp || {}\n      userConfig.amp.canonicalBase =\n        (canonicalBase?.endsWith('/')\n          ? canonicalBase.slice(0, -1)\n          : canonicalBase) || ''\n    }\n\n    if (reactProductionProfiling) {\n      userConfig.reactProductionProfiling = reactProductionProfiling\n    }\n\n    if (\n      userConfig.experimental?.turbo?.loaders &&\n      !userConfig.experimental?.turbo?.rules\n    ) {\n      curLog.warn(\n        'experimental.turbo.loaders is now deprecated. Please update next.config.js to use experimental.turbo.rules as soon as possible.\\n' +\n          'The new option is similar, but the key should be a glob instead of an extension.\\n' +\n          'Example: loaders: { \".mdx\": [\"mdx-loader\"] } -> rules: { \"*.mdx\": [\"mdx-loader\"] }\" }\\n' +\n          'See more info here https://nextjs.org/docs/app/api-reference/next-config-js/turbo'\n      )\n\n      const rules: Record<string, TurboLoaderItem[]> = {}\n      for (const [ext, loaders] of Object.entries(\n        userConfig.experimental.turbo.loaders\n      )) {\n        rules['*' + ext] = loaders as TurboLoaderItem[]\n      }\n\n      userConfig.experimental.turbo.rules = rules\n    }\n\n    if (userConfig.experimental?.useLightningcss) {\n      const { loadBindings } = require('next/dist/build/swc')\n      const isLightningSupported = (await loadBindings())?.css?.lightning\n\n      if (!isLightningSupported) {\n        curLog.warn(\n          `experimental.useLightningcss is set, but the setting is disabled because next-swc/wasm does not support it yet.`\n        )\n        userConfig.experimental.useLightningcss = false\n      }\n    }\n\n    // serialize the regex config into string\n    if (userConfig?.htmlLimitedBots instanceof RegExp) {\n      // @ts-expect-error: override the htmlLimitedBots with default string, type covert: RegExp -> string\n      userConfig.htmlLimitedBots = userConfig.htmlLimitedBots.source\n    }\n\n    onLoadUserConfig?.(userConfig)\n    const completeConfig = assignDefaults(\n      dir,\n      {\n        configOrigin: relative(dir, path),\n        configFile: path,\n        configFileName,\n        ...userConfig,\n      },\n      silent\n    ) as NextConfigComplete\n    return completeConfig\n  } else {\n    const configBaseName = basename(CONFIG_FILES[0], extname(CONFIG_FILES[0]))\n    const unsupportedConfig = findUp.sync(\n      [\n        `${configBaseName}.cjs`,\n        `${configBaseName}.cts`,\n        `${configBaseName}.mts`,\n        `${configBaseName}.json`,\n        `${configBaseName}.jsx`,\n        `${configBaseName}.tsx`,\n      ],\n      { cwd: dir }\n    )\n    if (unsupportedConfig?.length) {\n      throw new Error(\n        `Configuring Next.js via '${basename(\n          unsupportedConfig\n        )}' is not supported. Please replace the file with 'next.config.js', 'next.config.mjs', or 'next.config.ts'.`\n      )\n    }\n  }\n\n  // always call assignDefaults to ensure settings like\n  // reactRoot can be updated correctly even with no next.config.js\n  const completeConfig = assignDefaults(\n    dir,\n    defaultConfig,\n    silent\n  ) as NextConfigComplete\n  completeConfig.configFileName = configFileName\n  setHttpClientAndAgentOptions(completeConfig)\n  return completeConfig\n}\n\nexport type ConfiguredExperimentalFeature =\n  | { name: keyof ExperimentalConfig; type: 'boolean'; value: boolean }\n  | { name: keyof ExperimentalConfig; type: 'number'; value: number }\n  | { name: keyof ExperimentalConfig; type: 'other' }\n\nexport function getConfiguredExperimentalFeatures(\n  userNextConfigExperimental: NextConfig['experimental']\n) {\n  const configuredExperimentalFeatures: ConfiguredExperimentalFeature[] = []\n\n  if (!userNextConfigExperimental) {\n    return configuredExperimentalFeatures\n  }\n\n  // defaultConfig.experimental is predefined and will never be undefined\n  // This is only a type guard for the typescript\n  if (defaultConfig.experimental) {\n    for (const name of Object.keys(\n      userNextConfigExperimental\n    ) as (keyof ExperimentalConfig)[]) {\n      const value = userNextConfigExperimental[name]\n\n      if (name === 'turbo' && !process.env.TURBOPACK) {\n        // Ignore any Turbopack config if Turbopack is not enabled\n        continue\n      }\n\n      if (\n        name in defaultConfig.experimental &&\n        value !== defaultConfig.experimental[name]\n      ) {\n        configuredExperimentalFeatures.push(\n          typeof value === 'boolean'\n            ? { name, type: 'boolean', value }\n            : typeof value === 'number'\n              ? { name, type: 'number', value }\n              : { name, type: 'other' }\n        )\n      }\n    }\n  }\n  return configuredExperimentalFeatures\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}